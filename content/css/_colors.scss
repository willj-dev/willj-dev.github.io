@use 'sass:list';
@use 'sass:color';

// uses the Base16 color theme system: https://github.com/chriskempson/base16
// color scheme is Tomorrow by Chris Kempson: https://github.com/chriskempson/base16-tomorrow-scheme

$base16-tomorrow: (
  #ffffff, #e0e0e0, #d6d6d6, #8e908c, #969896, #4d4d4c, #282a2e, #1d1f21,
  #c82829, #f5871f, #eab700, #718c00, #3e999f, #4271ae, #8959a8, #a3685a
);

$base16-tomorrow-night: (
  #1d1f21, #282a2e, #373b41, #969896, #b4b7b4, #c5c8c6, #e0e0e0, #ffffff,
  #cc6666, #de935f, #f0c674, #b5bd68, #8abeb7, #81a2be, #b294bb, #a3685a
);

@mixin apply-base16-colors ($color-scheme) {

  $base16-bg:         list.nth($color-scheme, 1);
  $base16-bg-light:   list.nth($color-scheme, 2);
  $base16-highlight:  list.nth($color-scheme, 4);
  $base16-fg-dark:    list.nth($color-scheme, 5);
  $base16-fg:         list.nth($color-scheme, 6);

  $base16-accent1:    list.nth($color-scheme, 9);
  $base16-accent2:    list.nth($color-scheme, 10);
  $base16-accent3:    list.nth($color-scheme, 11);
  $base16-accent4:    list.nth($color-scheme, 12);
  $base16-accent5:    list.nth($color-scheme, 13);
  $base16-accent6:    list.nth($color-scheme, 14);
  $base16-accent7:    list.nth($color-scheme, 15);
  $base16-accent8:    list.nth($color-scheme, 16);

  background-color: $base16-bg;
  color: $base16-fg;

  #dark-mode, #light-mode, .card {
    background-color: $base16-bg-light;
  }

  a {
    &:link {
      color: $base16-accent6;
    }

    &:visited {
      color: $base16-accent7;
    }
  }

  h1, h2, h3, h4, #header-path > a {
    color: $base16-fg-dark;
  }

  #page-toc a {
    color: $base16-accent5;
  }

  .term-link, .term-card {
    border-color: color.adjust($base16-highlight, $alpha: -0.2);
  }

  // below is adapted from the CSS generated by Skylighting for the Pygments style
  // (layout is styled in _code.scss)

  pre.numberSource code > span > a:first-child::before { color: #aaaaaa; }
  pre.numberSource { border-left-color: #aaaaaa; }

  code span {
    &.al { color: $base16-accent8;   } /* Alert */
    &.an { color: $base16-highlight; } /* Annotation */
    &.at { color: $base16-accent2;   } /* Attribute */
    &.bn { color: $base16-accent2;   } /* BaseN */
    // &.bu {                        } /* BuiltIn */
    &.cf { color: $base16-accent7;   } /* ControlFlow */
    &.ch { color: $base16-accent4;   } /* Char */
    &.cn { color: $base16-accent2;   } /* Constant */
    &.co { color: $base16-highlight; } /* Comment */
    &.cv { color: $base16-highlight; } /* CommentVar */
    &.do { color: $base16-highlight; } /* Documentation */
    &.dt { color: $base16-accent3;   } /* DataType */
    &.dv { color: $base16-accent2;   } /* DecVal */
    &.er { color: $base16-accent8;   } /* Error */
    // &.ex {                        } /* Extension */
    &.fl { color: $base16-accent2;   } /* Float */
    &.fu { color: $base16-accent6;   } /* Function */
    // &.im {                        } /* Import */
    &.in { color: $base16-highlight; } /* Information */
    &.kw { color: $base16-accent7;   } /* Keyword */
    &.op { color: $base16-fg;        } /* Operator */
    &.ot { color: $base16-accent7;   } /* Other */
    &.pp { color: $base16-accent5;   } /* Preprocessor */
    &.sc { color: $base16-accent4;   } /* SpecialChar */
    &.ss { color: $base16-accent5;   } /* SpecialString */
    &.st { color: $base16-accent4;   } /* String */
    &.va { color: $base16-accent1;   } /* Variable */
    &.vs { color: $base16-accent4;   } /* VerbatimString */
    &.wa { color: $base16-accent8;   } /* Warning */
  }
}
